<div class="converter-container">
  <h2>Currency Converter</h2>

  <form 
    class="converter-form"
    (ngSubmit)="onConvert()"
  >
    <app-currency-selector 
      [currencies]="currencies"
      [selectedCurrency]="fromCurrency"
      label="From"
      (currencyChange)="fromCurrency = $event"
    ></app-currency-selector>

    <app-currency-selector
      [currencies]="currencies"
      [selectedCurrency]="toCurrency"
      label="To"
      (currencyChange)="toCurrency = $event"
    ></app-currency-selector>

    <mat-form-field appearance="fill">
      <mat-label>Amount</mat-label>
      <input
        matInput
        type="number"
        [(ngModel)]="amount"
        name="amount"
        min="0"
        required 
      />
    </mat-form-field>

    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="isLoading"
    >
      {{ isLoading ? 'Converting...' : 'Convert' }}
    </button>
  </form>

  <div class="result" *ngIf="convertedAmount !== null">
    <p>{{ amount }} {{ fromCurrency }} = <strong>{{ convertedAmount }}</strong> {{ toCurrency }}</p>
  </div>
</div>